<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Portfolio 1</title>

<script src="site_libs/header-attrs-2.30/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="p01.html">Portfolio 1</a>
</li>
<li>
  <a href="p02.html">Portfolio 2</a>
</li>
<li>
  <a href="p03.html">Portfolio 3</a>
</li>
<li>
  <a href="p04.html">Portfolio 4</a>
</li>
<li>
  <a href="p05.html">Portfolio 5</a>
</li>
<li>
  <a href="p06.html">Portfolio 6</a>
</li>
<li>
  <a href="p07.html">Portfolio 7</a>
</li>
<li>
  <a href="p08.html">Portfolio 8</a>
</li>
<li>
  <a href="p09.html">Portfolio 9</a>
</li>
<li>
  <a href="p10.html">Portfolio 10</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Portfolio 1</h1>

</div>


<blockquote>
<p>The projects should be numbered consecutively (i.e., in the order in
which you began them), and should include for each project a description
of the goal, the product (computer program, hand graph, computer graph,
etc.), the data, and some interpretation. Reports must be reproducible
and of high quality in terms of writing, grammar, presentation, etc.</p>
</blockquote>
<pre class="r"><code>library(tidyverse) 
library(tidyr)
library(scales)</code></pre>
<pre class="r"><code>library(readr)

nc_winston_salem_2020_04_01 &lt;- read_csv(&quot;nc_winston-salem_2020_04_01.csv&quot;)</code></pre>
<pre><code>## Warning: One or more parsing issues, call `problems()` on your data frame for details,
## e.g.:
##   dat &lt;- vroom(...)
##   problems(dat)</code></pre>
<pre><code>## Rows: 452560 Columns: 29
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr  (14): location, county_name, subject_race, subject_sex, officer_id_hash...
## dbl   (2): raw_row_number, subject_age
## lgl  (11): arrest_made, citation_issued, warning_issued, contraband_found, c...
## date  (1): date
## time  (1): time
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<p>The data in this set contains crime numbers and statistics from
Winston-Salem between the years 2000 and 2015.</p>
<p>The goal of this portfolio piece is to create plots that will
visualize data contrasting the gender and race in regards to the amount
of searches conducted. Although in this portfolio, I will not be able to
make a judgment about whether discrimination exists because I will not
be creating a plot nor run statistical tests in regards to the data
proportional to the population.</p>
<p>I found this dataset using Stanford’s open policing database and
selected it because of it’s topicality to Wake Forest.</p>
<pre class="r"><code>glimpse(nc_winston_salem_2020_04_01)</code></pre>
<pre><code>## Rows: 452,560
## Columns: 29
## $ raw_row_number         &lt;dbl&gt; 3225, 3227, 3232, 3235, 3237, 3240, 3243, 3245,…
## $ date                   &lt;date&gt; 2000-01-11, 2000-01-12, 2000-01-12, 2000-01-12…
## $ time                   &lt;time&gt; 23:30:00, 00:59:00, 21:05:00, 21:05:00, 22:37:…
## $ location               &lt;chr&gt; &quot;Unknown&quot;, &quot;Unknown&quot;, &quot;Unknown&quot;, &quot;Unknown&quot;, &quot;Un…
## $ county_name            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ subject_age            &lt;dbl&gt; 49, 21, 22, 21, 19, 19, 21, 19, 20, 24, 26, 23,…
## $ subject_race           &lt;chr&gt; &quot;black&quot;, &quot;black&quot;, &quot;white&quot;, &quot;black&quot;, &quot;black&quot;, &quot;b…
## $ subject_sex            &lt;chr&gt; &quot;female&quot;, &quot;male&quot;, &quot;male&quot;, &quot;female&quot;, &quot;female&quot;, &quot;…
## $ officer_id_hash        &lt;chr&gt; &quot;22e35044ed&quot;, &quot;22e35044ed&quot;, &quot;22e35044ed&quot;, &quot;22e3…
## $ department_name        &lt;chr&gt; &quot;Winston-Salem State University Police Departme…
## $ type                   &lt;chr&gt; &quot;vehicular&quot;, &quot;vehicular&quot;, &quot;vehicular&quot;, &quot;vehicul…
## $ arrest_made            &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…
## $ citation_issued        &lt;lgl&gt; FALSE, TRUE, FALSE, TRUE, FALSE, TRUE, TRUE, TR…
## $ warning_issued         &lt;lgl&gt; TRUE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, F…
## $ outcome                &lt;chr&gt; &quot;warning&quot;, &quot;citation&quot;, &quot;warning&quot;, &quot;citation&quot;, &quot;…
## $ contraband_found       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ contraband_drugs       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ contraband_weapons     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ frisk_performed        &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…
## $ search_conducted       &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…
## $ search_person          &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…
## $ search_vehicle         &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…
## $ search_basis           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ reason_for_frisk       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ reason_for_search      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ reason_for_stop        &lt;chr&gt; &quot;Speed Limit Violation&quot;, &quot;Speed Limit Violation…
## $ raw_Ethnicity          &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;H&quot;, &quot;N…
## $ raw_Race               &lt;chr&gt; &quot;B&quot;, &quot;B&quot;, &quot;W&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;U&quot;, &quot;B…
## $ raw_action_description &lt;chr&gt; &quot;Verbal Warning&quot;, &quot;Citation Issued&quot;, &quot;Written W…</code></pre>
<pre class="r"><code>wsnc_search &lt;- nc_winston_salem_2020_04_01 %&gt;%
  filter(search_conducted == TRUE)</code></pre>
<pre class="r"><code>wsnc_search &lt;- wsnc_search %&gt;%
  mutate(not_white = subject_race != &quot;white&quot;)</code></pre>
<pre class="r"><code>nc_winston_salem_2020_04_01 &lt;- nc_winston_salem_2020_04_01 %&gt;%
  mutate(not_white = subject_race != &quot;white&quot;)</code></pre>
<pre class="r"><code>nc_winston_salem_2020_04_01 &lt;- nc_winston_salem_2020_04_01 %&gt;%
  mutate(searched = isTRUE(search_conducted))</code></pre>
<p>Right now, I am only interested in police records where searches are
made. I want to see if there is a difference in searches made between
sex and race. Thus, I created a new variable that filters filters the
dataset down to police activity where searches are conducted. I also
created a new value that states whether the subject is white or not
white. This will help me when I want to plot race.</p>
<pre class="r"><code>ggplot(wsnc_search, aes(x = subject_sex)) +
  geom_bar() +
  labs(
    title = &quot;Searches by Gender&quot;,
    x = &quot;Gender&quot;,
    y = &quot;Number of Searches&quot;
  )</code></pre>
<p><img src="p01_files/figure-html/unnamed-chunk-4-1.png" alt="" width="672" /></p>
<pre class="r"><code>ggplot(wsnc_search, aes(x = not_white)) +
  geom_bar() +
  labs(
    title = &quot;Searches by race&quot;,
    x = &quot;Non-White&quot;,
    y = &quot;Number of Searches&quot;)</code></pre>
<p><img src="p01_files/figure-html/unnamed-chunk-5-1.png" alt="" width="672" />
Here I’ve shown in bar graph form the difference in number of non-white
searches vs. white searches and male searches vs. female searches as
well as a faceted My goal here is to find whether there is apparent
gender discrimination or racial discrimination in frequency of search
and then visualize this information. This would also require me to
account for the proportion of total violations based on white or not
white and female or male.</p>
<pre class="r"><code>ggplot(wsnc_search, aes(x=subject_sex)) + geom_bar() + facet_wrap(~not_white)+
  labs(
    title=&quot;Searches by Gender and Race (False=White, True=Not White)&quot;,
    x = &quot;Gender&quot;,
    y=&quot; Number of Searches&quot;
  )</code></pre>
<p><img src="p01_files/figure-html/unnamed-chunk-6-1.png" alt="" width="672" /></p>
<p>In the next portfolio piece, it is my goal to be able to plot in a
faceted bar plot, the number of searches proportionate to the amount of
people in each category. This will help visualize the real difference
between gender and race.</p>
<div id="heres-portfolio-2" class="section level2">
<h2>Here’s portfolio 2</h2>
<p>I’m back. Right now I am going to attempt to visualize the data we
worked with in the last portfolio piece but now it will hopefully be
proportioned such that it’s a proportion of the total population of that
category in the data. Ex: searched men / total men * 100 = true
percentage of searched men</p>
<pre class="r"><code>table(wsnc_search$not_white)</code></pre>
<pre><code>## 
## FALSE  TRUE 
##  3197  6012</code></pre>
<pre class="r"><code>table(nc_winston_salem_2020_04_01$not_white)</code></pre>
<pre><code>## 
##  FALSE   TRUE 
## 199175 253385</code></pre>
<pre class="r"><code>(3197/199175)*100</code></pre>
<pre><code>## [1] 1.605121</code></pre>
<pre class="r"><code>df3&lt;-table(nc_winston_salem_2020_04_01$not_white)
not_white_total&lt;-df3[2]
df4&lt;-table(wsnc_search$not_white)
not_white_searched&lt;-df4[2]</code></pre>
<p>This number is the percent of white people who were searched. I
divided the total amount of searched white people by the total amount of
white people who were stopped by police. Below I do the same thing for
non white people.</p>
<pre class="r"><code>(6012/253385)*100</code></pre>
<pre><code>## [1] 2.372674</code></pre>
<pre class="r"><code>df3&lt;-table(nc_winston_salem_2020_04_01$not_white)

white_total&lt;-df3[1]

df4&lt;-table(wsnc_search$not_white)

white_searched&lt;-df4[1]</code></pre>
<pre class="r"><code>table(wsnc_search$subject_sex)</code></pre>
<pre><code>## 
## female   male 
##   1630   7579</code></pre>
<pre class="r"><code>table(nc_winston_salem_2020_04_01$subject_sex)</code></pre>
<pre><code>## 
## female   male 
## 184701 267859</code></pre>
<pre class="r"><code>(1630/184701)*100</code></pre>
<pre><code>## [1] 0.8825074</code></pre>
<pre class="r"><code>df&lt;-table(nc_winston_salem_2020_04_01$subject_sex)

men_total &lt;- df[2]


df2&lt;-table(wsnc_search$subject_sex)

men_searched&lt;- df2[2]</code></pre>
<pre class="r"><code>(7579/267859)*100</code></pre>
<pre><code>## [1] 2.829474</code></pre>
<pre class="r"><code>df&lt;-table(nc_winston_salem_2020_04_01$subject_sex)

women_total &lt;- df[1]

df2&lt;-table(wsnc_search$subject_sex)

women_searched&lt;- df2[1]</code></pre>
<pre class="r"><code>rm(women_stopped)</code></pre>
<pre><code>## Warning in rm(women_stopped): object &#39;women_stopped&#39; not found</code></pre>
<pre class="r"><code>rm(men_stopped)</code></pre>
<pre><code>## Warning in rm(men_stopped): object &#39;men_stopped&#39; not found</code></pre>
<pre class="r"><code>(men_searched/men_total)*100</code></pre>
<pre><code>##     male 
## 2.829474</code></pre>
<pre class="r"><code>(women_searched/women_total)*100</code></pre>
<pre><code>##    female 
## 0.8825074</code></pre>
<pre class="r"><code>glimpse(nc_winston_salem_2020_04_01$location)</code></pre>
<pre><code>##  chr [1:452560] &quot;Unknown&quot; &quot;Unknown&quot; &quot;Unknown&quot; &quot;Unknown&quot; &quot;Unknown&quot; &quot;Unknown&quot; ...</code></pre>
<p>In the next portfolio piece, it is my goal to be able to plot in a
faceted bar plot, the number of searches proportionate to the amount of
people in each category. This will help visualize the real difference
between gender and race.</p>
<p>I’ve now created 8 new values (really 12 including the dataframes)
that will help me in the calculation and visualization of the true
data.</p>
<pre class="r"><code>white_percentage_searched &lt;- (white_searched / white_total) * 100
not_white_percentage_searched &lt;- (not_white_searched/ not_white_total) * 100

men_percentage_searched &lt;- (men_searched / men_total) * 100
women_percentage_searched &lt;- (women_searched / women_total) * 100</code></pre>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
